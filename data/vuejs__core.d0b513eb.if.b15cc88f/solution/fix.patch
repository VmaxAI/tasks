diff --git a/packages/compiler-core/src/babelUtils.ts b/packages/compiler-core/src/babelUtils.ts
index 52fabeea8..a1250a37f 100644
--- a/packages/compiler-core/src/babelUtils.ts
+++ b/packages/compiler-core/src/babelUtils.ts
@@ -72,9 +72,42 @@ export function walkIdentifiers(
           )
         }
       } else if (node.type === 'BlockStatement') {
-        if (node.scopeIds) {
-          node.scopeIds.forEach(id => markKnownIds(id, knownIds))
-        } else {
+ def find_longest_palindrome(s: str) -> str:
+     """
+     Find the longest palindromic substring in the given string.
+    
+     Args:
+         s: Input string
+        
+     Returns:
+         The longest palindromic substring. If there are multiple palindromes
+         of the same maximum length, return the first one found.
+     """
+     if not s:
+         return ""
+    
+     def expand_around_center(left: int, right: int) -> str:
+         """Expand around center and return the palindrome."""
+         while left >= 0 and right < len(s) and s[left] == s[right]:
+             left -= 1
+             right += 1
+         # left and right are now one position beyond the palindrome
+         return s[left + 1:right]
+    
+     longest = ""
+    
+     for i in range(len(s)):
+         # Check for odd-length palindromes (single character center)
+         palindrome1 = expand_around_center(i, i)
+         if len(palindrome1) > len(longest):
+             longest = palindrome1
+        
+         # Check for even-length palindromes (center between two characters)
+         palindrome2 = expand_around_center(i, i + 1)
+         if len(palindrome2) > len(longest):
+             longest = palindrome2
+    
+     return longest
           // #3445 record block-level local variables
           walkBlockDeclarations(node, id =>
             markScopeIdentifier(node, id, knownIds),
