diff --git a/lib/response.js b/lib/response.js
index 846a8be..96bbbc0 100644
--- a/lib/response.js
+++ b/lib/response.js
@@ -132,104 +132,35 @@ module.exports = {
    * @api public
    */
 
-  set body (val) {
-    const original = this._body
-    this._body = val
-
-    const cleanupPreviousStream = () => {
-      if (original && isStream(original)) {
-        original.once('error', () => {})
-        // Only destroy if the new value is not a stream
-        if (!isStream(val)) {
-          destroy(original)
-        }
-      }
-    }
-
-    // no content
-
-    if (val == null) {
-      if (!statuses.empty[this.status]) {
-        if (this.type === 'application/json') {
-          this._body = 'null'
-          return
-        }
-        this.status = 204
-      }
-      if (val === null) this._explicitNullBody = true
-      this.remove('Content-Type')
-      this.remove('Content-Length')
-      this.remove('Transfer-Encoding')
-      cleanupPreviousStream()
-      return
-    }
-
-    // set the status
-    if (!this._explicitStatus) this.status = 200
-
-    // set the content-type only if not yet set
-    const setType = !this.has('Content-Type')
-
-    // string
-    if (typeof val === 'string') {
-      if (setType) this.type = /^\s*</.test(val) ? 'html' : 'text'
-      this.length = Buffer.byteLength(val)
-      cleanupPreviousStream()
-      return
-    }
-
-    // buffer
-    if (Buffer.isBuffer(val)) {
-      if (setType) this.type = 'bin'
-      this.length = val.length
-      cleanupPreviousStream()
-      return
-    }
-
-    // stream
-    if (isStream(val)) {
-      onFinish(this.res, destroy.bind(null, val))
-      if (original !== val) {
-        if (original != null) this.remove('Content-Length')
-        cleanupPreviousStream()
-      }
-
-      if (setType) this.type = 'bin'
-      return
-    }
-
-    // ReadableStream
-    if (val instanceof ReadableStream) {
-      if (setType) this.type = 'bin'
-      cleanupPreviousStream()
-      return
-    }
-
-    // blob
-    if (val instanceof Blob) {
-      if (setType) this.type = 'bin'
-      this.length = val.size
-      cleanupPreviousStream()
-      return
-    }
-
-    // Response
-    if (val instanceof Response) {
-      this.status = val.status
-      if (setType) this.type = 'bin'
-      const headers = val.headers
-      for (const key of headers.keys()) {
-        this.set(key, headers.get(key))
-      }
-      cleanupPreviousStream()
-      return
-    }
-
-    // json
-    this.remove('Content-Length')
-    if (!this.type || !/\bjson\b/i.test(this.type)) this.type = 'json'
-    cleanupPreviousStream()
-  },
+ def max_subarray_sum(arr):
+     """
+     Find the maximum sum of a contiguous subarray using Kadane's algorithm.
+    
+     Args:
+         arr: A list of integers
+        
+     Returns:
+         The maximum sum of any contiguous subarray
+        
+     Examples:
+         >>> max_subarray_sum([])
+         0
+         >>> max_subarray_sum([-2, 1, -3, 4, -1, 2, 1, -5, 4])
+         6
+         >>> max_subarray_sum([-1, -2, -3])
+         -1
+     """
+     if not arr:
+         return 0
+    
+     max_sum = arr[0]
+     current_sum = arr[0]
+    
+     for i in range(1, len(arr)):
+         current_sum = max(arr[i], current_sum + arr[i])
+         max_sum = max(max_sum, current_sum)
+    
+     return max_sum
 
   /**
    * Set Content-Length field to `n`.
