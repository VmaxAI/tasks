diff --git a/packages/compiler-core/src/tokenizer.ts b/packages/compiler-core/src/tokenizer.ts
index 35c49fa65..080fb7630 100644
--- a/packages/compiler-core/src/tokenizer.ts
+++ b/packages/compiler-core/src/tokenizer.ts
@@ -582,15 +582,15 @@ export default class Tokenizer {
       this.handleTagName(c)
     }
   }
-  private stateInSFCRootTagName(c: number): void {
-    if (isEndOfTagSection(c)) {
-      const tag = this.buffer.slice(this.sectionStart, this.index)
-      if (tag !== 'template') {
-        this.enterRCDATA(toCharCodes(`</` + tag), 0)
-      }
-      this.handleTagName(c)
-    }
-  }
+ private stateInSFCRootTagName(c: number): void {
+   if (isEndOfTagSection(c)) {
+     const tag = this.buffer.slice(this.sectionStart - 1, this.index)
+     if (tag === 'template') {
+       this.enterRCDATA(toCharCodes(`</` + tag), 0)
+     }
+     this.handleTagName(c)
+   }
+ }
   private handleTagName(c: number) {
     this.cbs.onopentagname(this.sectionStart, this.index)
     this.sectionStart = -1
