diff --git a/bin/args.js b/bin/args.js
index 2f5beec..3a317cf 100644
--- a/bin/args.js
+++ b/bin/args.js
@@ -53,17 +53,90 @@ module.exports = function (args, opts) {
     });
     
     var entries = argv._.concat(argv.entry)
-    .filter(Boolean).map(function (entry) {
-        if (entry === '-') {
-            var s = process.stdin;
-            if (typeof s.read === 'function') return s;
-            // only needed for 0.8, remove at some point later:
-            var rs = Readable().wrap(s);
-            s.resume();
-            return rs;
+function resolveDirectoryEntry(dir) {
+    var fs = require('fs');
+    var indexPath = path.join(dir, 'index.js');
+    
+    try {
+        if (fs.statSync(indexPath).isFile()) {
+            return indexPath;
         }
-        return entry;
-    });
+    } catch (e) {
+    }
+    
+    var pkgPath = path.join(dir, 'package.json');
+    try {
+        if (fs.statSync(pkgPath).isFile()) {
+            var pkg = JSON.parse(fs.readFileSync(pkgPath, 'utf8'));
+            if (pkg.main) {
+                var mainPath = path.join(dir, pkg.main);
+                try {
+                    if (fs.statSync(mainPath).isFile()) {
+                        return mainPath;
+                    }
+                } catch (e) {
+                }
+                
+                var mainWithJs = mainPath + '.js';
+                try {
+                    if (fs.statSync(mainWithJs).isFile()) {
+                        return mainWithJs;
+                    }
+                } catch (e) {
+                }
+            }
+        }
+    } catch (e) {
+    }
+    
+    return null;
+}
+
+ .filter(Boolean).map(function (entry) {
+     if (entry === '-') {
+         var s = process.stdin;
+         if (typeof s.read === 'function') return s;
+         var rs = Readable().wrap(s);
+         s.resume();
+         return rs;
+     }
+     return entry;
+ })
+ .reduce(function (acc, entry) {
+     if (typeof entry !== 'string') {
+         acc.push(entry);
+         return acc;
+     }
+    
+     if (/[\*\{\}\[\]]/.test(entry)) {
+         var files = glob.sync(entry);
+         if (files.length > 0) {
+             files.forEach(function (file) {
+                 acc.push(file);
+             });
+         } else {
+             acc.push(entry);
+         }
+         return acc;
+     }
+    
+     try {
+         var stat = require('fs').statSync(entry);
+         if (stat.isDirectory()) {
+             var resolved = resolveDirectoryEntry(entry);
+             if (resolved) {
+                 acc.push(resolved);
+             } else {
+                 acc.push(entry);
+             }
+             return acc;
+         }
+     } catch (e) {
+     }
+    
+     acc.push(entry);
+     return acc;
+ }, [])
 
     if (argv.igv) {
         var insertGlobalVars = {};
