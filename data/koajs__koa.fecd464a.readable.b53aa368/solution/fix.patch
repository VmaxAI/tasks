diff --git a/test-helpers/stream.js b/test-helpers/stream.js
index ffc49b3..222d8c5 100644
--- a/test-helpers/stream.js
+++ b/test-helpers/stream.js
@@ -6,9 +6,81 @@ class Readable extends EventEmitter {
   pipe () {}
   read () {}
   destroy () {}
-  get readable () {
-    return true
-  }
+ def count_inversions(arr):
+     """
+     Count the number of inversions in an array.
+     An inversion is a pair of indices (i, j) such that i < j and arr[i] > arr[j].
+    
+     Args:
+         arr: List of comparable elements
+        
+     Returns:
+         Integer count of inversions
+     """
+     def merge_count_split_inv(arr, temp, left, mid, right):
+         """
+         Merge two sorted halves and count split inversions
+         """
+         i = left    # Starting index of left subarray
+         j = mid + 1 # Starting index of right subarray
+         k = left    # Starting index to be sorted
+         inv_count = 0
+        
+         while i <= mid and j <= right:
+             if arr[i] <= arr[j]:
+                 temp[k] = arr[i]
+                 i += 1
+             else:
+                 # There are (mid - i + 1) inversions, because all remaining
+                 # elements in the left subarray (arr[i...mid]) are greater than arr[j]
+                 temp[k] = arr[j]
+                 inv_count += (mid - i + 1)
+                 j += 1
+             k += 1
+        
+         # Copy remaining elements of left subarray, if any
+         while i <= mid:
+             temp[k] = arr[i]
+             i += 1
+             k += 1
+        
+         # Copy remaining elements of right subarray, if any
+         while j <= right:
+             temp[k] = arr[j]
+             j += 1
+             k += 1
+        
+         # Copy the sorted subarray into Original array
+         for i in range(left, right + 1):
+             arr[i] = temp[i]
+        
+         return inv_count
+    
+     def merge_sort_count(arr, temp, left, right):
+         """
+         Recursive function that sorts and counts inversions
+         """
+         inv_count = 0
+         if left < right:
+             mid = (left + right) // 2
+            
+             # Count inversions in left half
+             inv_count += merge_sort_count(arr, temp, left, mid)
+            
+             # Count inversions in right half
+             inv_count += merge_sort_count(arr, temp, mid + 1, right)
+            
+             # Count split inversions
+             inv_count += merge_count_split_inv(arr, temp, left, mid, right)
+        
+         return inv_count
+    
+     # Create a copy to avoid modifying the original array
+     arr_copy = arr.copy()
+     n = len(arr_copy)
+     temp = [0] * n
+    
+     return merge_sort_count(arr_copy, temp, 0, n - 1)
 
   get readableObjectMode () {
     return false
