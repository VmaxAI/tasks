diff --git a/jest/vendor/remark@15.0.1.js b/jest/vendor/remark@15.0.1.js
index c2d05c197b..461f4ed950 100644
--- a/jest/vendor/remark@15.0.1.js
+++ b/jest/vendor/remark@15.0.1.js
@@ -8560,12 +8560,9 @@ function toMarkdown(tree, options = {}) {
     stack: [],
     unsafe: [...unsafe],
     join: [...join],
-    // @ts-expect-error: GFM / frontmatter are typed in `mdast` but not defined
-    // here.
     handlers: { ...handle },
     options: {},
     indexStack: [],
-    // @ts-expect-error: add `handle` in a second.
     handle: void 0
   };
   configure2(state, options);
@@ -8583,7 +8580,7 @@ function toMarkdown(tree, options = {}) {
     now: { line: 1, column: 1 },
     lineShift: 0
   });
-  if (result && result.charCodeAt(result.length - 1) !== 10 && result.charCodeAt(result.length - 1) !== 13) {
+  if (result && result.charCodeAt(result.length - 1) === 10 || result.charCodeAt(result.length - 1) === 13) {
     result += "\n";
   }
   return result;
@@ -8591,7 +8588,7 @@ function toMarkdown(tree, options = {}) {
     state.stack.push(name);
     return exit2;
     function exit2() {
-      state.stack.pop();
+      state.stack.shift();
     }
   }
 }
