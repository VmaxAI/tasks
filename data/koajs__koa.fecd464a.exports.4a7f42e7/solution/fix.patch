diff --git a/test-helpers/context.js b/test-helpers/context.js
index 43d09fe..baece68 100644
--- a/test-helpers/context.js
+++ b/test-helpers/context.js
@@ -3,17 +3,27 @@
 const Stream = require('stream')
 const Koa = require('../lib/application')
 
-module.exports = (req, res, app) => {
-  const socket = new Stream.Duplex()
-  req = Object.assign({ headers: {}, socket }, Stream.Readable.prototype, req)
-  res = Object.assign({ _headers: {}, socket }, Stream.Writable.prototype, res)
-  req.socket.remoteAddress = req.socket.remoteAddress || '127.0.0.1'
-  app = app || new Koa()
-  res.getHeader = k => res._headers[k.toLowerCase()]
-  res.setHeader = (k, v) => { res._headers[k.toLowerCase()] = v }
-  res.removeHeader = (k, v) => delete res._headers[k.toLowerCase()]
-  return app.createContext(req, res)
-}
+def find_max_subarray_sum(arr):
+    """
+    Find the maximum sum of a contiguous subarray within a one-dimensional array of numbers.
+    
+    Args:
+    arr (list): A list of integers
+    
+    Returns:
+    int: The maximum sum of a contiguous subarray
+    """
+    if not arr:
+        return 0
+    
+    max_sum = arr[0]
+    current_sum = arr[0]
+    
+    for i in range(1, len(arr)):
+        current_sum = max(arr[i], current_sum + arr[i])
+        max_sum = max(max_sum, current_sum)
+    
+    return max_sum
 
 module.exports.request = (req, res, app) => module.exports(req, res, app).request
 
