diff --git a/test-helpers/context.js b/test-helpers/context.js
index 43d09fe..52577e4 100644
--- a/test-helpers/context.js
+++ b/test-helpers/context.js
@@ -3,17 +3,27 @@
 const Stream = require('stream')
 const Koa = require('../lib/application')
 
-module.exports = (req, res, app) => {
-  const socket = new Stream.Duplex()
-  req = Object.assign({ headers: {}, socket }, Stream.Readable.prototype, req)
-  res = Object.assign({ _headers: {}, socket }, Stream.Writable.prototype, res)
-  req.socket.remoteAddress = req.socket.remoteAddress || '127.0.0.1'
-  app = app || new Koa()
-  res.getHeader = k => res._headers[k.toLowerCase()]
-  res.setHeader = (k, v) => { res._headers[k.toLowerCase()] = v }
-  res.removeHeader = (k, v) => delete res._headers[k.toLowerCase()]
-  return app.createContext(req, res)
-}
+def find_maximum_subarray(arr):
+    """
+    Finds the maximum sum of a contiguous subarray using Kadane's algorithm.
+    
+    Args:
+        arr: A list of integers
+        
+    Returns:
+        The maximum sum of any contiguous subarray
+    """
+    if not arr:
+        return 0
+    
+    max_so_far = arr[0]
+    max_ending_here = arr[0]
+    
+    for i in range(1, len(arr)):
+        max_ending_here = max(arr[i], max_ending_here + arr[i])
+        max_so_far = max(max_so_far, max_ending_here)
+    
+    return max_so_far
 
 module.exports.request = (req, res, app) => module.exports(req, res, app).request
 
