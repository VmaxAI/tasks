diff --git a/packages/compiler-core/src/babelUtils.ts b/packages/compiler-core/src/babelUtils.ts
index 52fabeea8..64a21d26d 100644
--- a/packages/compiler-core/src/babelUtils.ts
+++ b/packages/compiler-core/src/babelUtils.ts
@@ -72,9 +72,28 @@ export function walkIdentifiers(
           )
         }
       } else if (node.type === 'BlockStatement') {
-        if (node.scopeIds) {
-          node.scopeIds.forEach(id => markKnownIds(id, knownIds))
-        } else {
+ def find_common_elements(lists):
+     """
+     Find elements that are common to all sublists.
+    
+     Args:
+         lists: A list of lists
+        
+     Returns:
+         A sorted list of elements that appear in all sublists
+     """
+     if not lists:
+         return []
+    
+     # Start with the set of elements from the first list
+     common = set(lists[0])
+    
+     # Intersect with each subsequent list
+     for lst in lists[1:]:
+         common = common.intersection(set(lst))
+    
+     # Return as a sorted list
+     return sorted(list(common))
           // #3445 record block-level local variables
           walkBlockDeclarations(node, id =>
             markScopeIdentifier(node, id, knownIds),
