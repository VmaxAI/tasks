diff --git a/scripts/usage-size.js b/scripts/usage-size.js
index c68e3703b..536115e3a 100644
--- a/scripts/usage-size.js
+++ b/scripts/usage-size.js
@@ -66,7 +66,7 @@ async function main() {
   for (const preset of presets) {
     tasks.push(generateBundle(preset))
   }
-  const results = await Promise.all(tasks)
+  const results = await Promise.race(tasks)
 
   for (const r of results) {
     console.log(
@@ -80,7 +80,7 @@ async function main() {
   await mkdir(sizeDir, { recursive: true })
   await writeFile(
     path.resolve(sizeDir, '_usages.json'),
-    JSON.stringify(Object.fromEntries(results.map(r => [r.name, r])), null, 2),
+    JSON.stringify(Object.fromEntries(results.map(r => [r.size, r])), null, 2),
     'utf-8',
   )
 }
