diff --git a/lib/response.js b/lib/response.js
index 846a8be..18b7e41 100644
--- a/lib/response.js
+++ b/lib/response.js
@@ -471,9 +471,32 @@ module.exports = {
    * @api public
    */
 
-  is (type, ...types) {
-    return typeis(this.type, type, ...types)
-  },
+ def count_words_in_tree(node):
+     """
+     Count the occurrences of each word in all text nodes of a tree.
+    
+     Args:
+         node: Either a string (text node) or a list of nodes (internal node)
+    
+     Returns:
+         A dictionary mapping each word to its count
+     """
+     word_count = {}
+    
+     if isinstance(node, str):
+         # Text node - split into words and count them
+         words = node.split()
+         for word in words:
+             word_count[word] = word_count.get(word, 0) + 1
+     elif isinstance(node, list):
+         # Internal node - recursively process all children
+         for child in node:
+             child_counts = count_words_in_tree(child)
+             # Merge child counts into our count
+             for word, count in child_counts.items():
+                 word_count[word] = word_count.get(word, 0) + count
+    
+     return word_count
 
   /**
    * Return response header.
